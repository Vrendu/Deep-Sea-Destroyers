{"version":3,"file":"main.js","mappings":"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","sources":["webpack://deep-sea-destroyers/./src/scripts/util.js","webpack://deep-sea-destroyers/./src/scripts/game_object.js","webpack://deep-sea-destroyers/./src/scripts/projectile.js","webpack://deep-sea-destroyers/./src/scripts/enemy.js","webpack://deep-sea-destroyers/./src/scripts/ship.js","webpack://deep-sea-destroyers/./src/scripts/game.js","webpack://deep-sea-destroyers/./src/scripts/game_view.js","webpack://deep-sea-destroyers/./src/scripts/star_generator.js","webpack://deep-sea-destroyers/./src/index.js"],"sourcesContent":["export function enemyVec(length) {\n    return scale([0.8, 0], length);\n}\n\nexport function projectileVec(scaler){\n    return scale([0, 0.8], scaler);\n}\n\nexport function scale(vec, m) {\n    return [vec[0] * m, vec[1] * m];\n}\n\nexport function dist(pos1, pos2) {\n    return Math.sqrt(\n        Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n}","\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\nimport * as Util from \"./util.js\";\n\nclass GameObject {\n    constructor(options = {}) {\n        this.pos = options.pos;\n        this.vel = options.vel;\n        this.radius = options.radius;\n        this.game = options.game;\n        this.health = options.health;\n    }\n\n    isCollidedWith(otherObject) {\n\n        const centerDist = Util.dist(this.pos, otherObject.pos);\n        return centerDist < 20;\n    }\n\n    collideWith(otherObject){\n\n    }\n\n    move(timeDelta) {\n       \n        const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n            offsetX = this.vel[0] * velocityScale, \n            offsetY = this.vel[1] * velocityScale;\n\n        let newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n        if (newPos[0] <= 700 && newPos[0] >= 0){\n             this.pos = newPos;\n        }\n        this.vel = this.game.wrap(this.pos, this.vel);\n\n    }\n}\n\nexport default GameObject;","import GameObject from \"./game_object\";\n\nclass Projectile extends GameObject {\n\n    static RADIUS = 2;\n    static SPEED = 15;\n\n    constructor(options) {\n        options.radius = Projectile.RADIUS;\n        super(options);\n        this.userProjectileSheet = new Image();\n        this.userProjectileSheet.src = \"assets/flame.png\";\n        this.enemyProjectileSheet = new Image();\n        this.enemyProjectileSheet.src = \"assets/flame_glow.png\";\n        this.currentFrame = 0;\n        this.eachWidth = 128; \n        this.eachHeight = 128; \n        this.numFrames = 16; \n    }\n\n    draw(ctx) {\n        let row = Math.floor(this.currentFrame / 4);\n        let col = this.currentFrame % 4;\n        if (this.vel[1] < 0){\n            ctx.drawImage(this.userProjectileSheet, 128 * col, 128 * row, this.eachWidth, this.eachHeight, this.pos[0], this.pos[1], 60, 60);    \n        } else {\n            ctx.drawImage(this.enemyProjectileSheet, 128 * col, 128 * row, this.eachWidth, this.eachHeight, this.pos[0], this.pos[1], 60, 60);\n        }\n        this.currentFrame = (this.currentFrame + 1) % this.numFrames;\n    }\n}\n\nexport default Projectile;\n\n","import GameObject from \"./game_object\";\nimport * as Util from \"./util.js\";\nimport Projectile from \"./projectile\";\n\nclass Enemy extends GameObject{\n\n    static RADIUS = 15;\n    static SPEED = 4;\n\n    constructor(options = {}) {   \n        options.radius = Enemy.RADIUS;\n        options.vel = options.vel || Util.enemyVec(Enemy.SPEED);\n        options.health = 50;\n        super(options);\n        this.img = new Image();\n        this.img.src = \"assets/scout_enemy.png\";\n        this.pos = options.pos;\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.img, this.pos[0] - 20, this.pos[1] - 10, 120, 120);\n        if (this.health === 0){\n            let image = new Image();\n            image.src = \"assets/explosion.png\";\n            ctx.drawImage(image, this.pos[0] - 20, this.pos[1] - 10, 120, 120);\n        }\n    }\n\n    fireProjectile() {\n        const projVel = Util.projectileVec(4);\n\n        const enemyProj = new Projectile({\n            pos: this.pos,\n            vel: projVel,\n            color: \"black\",\n            game: this.game\n        });\n\n        this.game.add(enemyProj);\n    }\n    \n    collideWith(otherObject) {\n        if (otherObject.vel[1] < 0) {\n            this.health -= 1;\n            this.game.remove(otherObject);\n            this.game.points += 10;\n        }\n        if (this.health === 0){\n            this.game.remove(this);\n        }\n    }\n}\n\nexport default Enemy; ","const NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nimport GameObject from \"./game_object\";\nimport Projectile from \"./projectile\";\nimport * as Util from \"./util.js\";\n\nclass Ship extends GameObject{\n    \n    static RADIUS = 15;\n\n    constructor(options) {\n        options.radius = Ship.RADIUS;\n        options.vel = options.vel || [0, 0];\n        options.health = 50;\n        super(options);\n        this.img = new Image();\n        this.img.src = \"assets/ship_1.png\";\n    }\n\n    draw(ctx) {\n        ctx.drawImage(this.img, this.pos[0] + 15, this.pos[1], 30, 80);\n    }\n\n    moveShip(shipDir) {\n        this.pos[0] += shipDir[0];\n        this.pos[1] += shipDir[1];\n    }\n\n    fireProjectile(){\n        const projVel = Util.projectileVec(-4);\n\n        const proj = new Projectile({\n            pos: this.pos,\n            vel: projVel,\n            color: \"black\",\n            game: this.game\n        });\n\n        this.game.add(proj);\n    }\n\n    collideWith(otherObject){\n        if (otherObject.vel[1] > 1){\n            this.health -= 1;\n            this.game.points -= 5;\n            if (this.game.points < 0){\n                this.game.points = 0;\n            }\n            this.game.remove(otherObject);\n        }\n        if (this.health == 0){\n            this.game.remove(this)\n        }\n    }\n}\n\nexport default Ship;","import Enemy from \"./enemy.js\";\nimport Ship from \"./ship.js\";\nimport Projectile from \"./projectile.js\";\n\n\nclass Game {\n    constructor(gameview){\n        this.enemies = [];\n        this.projectiles = [];\n        this.ships = [];\n        this.points = 0;\n        this.addEnemies();   \n        this.gameview = gameview;\n    }\n\n\n    static BG_COLOR = \"#2B65EC\";\n    static DIM_X = 700;\n    static DIM_Y = 700;\n\n    static NUM_ENEMIES = 3;\n\n   \n\n    draw(ctx) {\n        ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n        this.allObjects().forEach((object) => {\n            object.draw(ctx);\n            if (object instanceof Enemy){\n                ctx.font = \"20px serif\";\n                ctx.fillText(object.health + \" HP\", object.pos[0] + 20, object.pos[1] + 32);\n                \n            }\n        });\n        ctx.font = \"30px serif\";\n        ctx.textAlign = 'right';\n        ctx.fillStyle = \"white\";\n        ctx.fillText(\"SCORE: \" + this.points, Game.DIM_X - 50,Game.DIM_Y - 100);\n        ctx.fillText(\"HEALTH: \" + this.ships[0].health, Game.DIM_X - 50, Game.DIM_Y - 50);\n    }\n\n    allObjects() {\n        return [].concat(this.ships, this.enemies, this.projectiles);\n    }\n\n    step(delta) {\n        this.moveObjects(delta);\n        this.fireEnemyProjectiles();\n        this.checkCollisions();\n        this.deleteProjectilesOutOfBounds();        \n    }\n\n    deleteProjectilesOutOfBounds(){\n        this.projectiles.forEach((proj) => {\n            if (proj.pos[1] > Game.DIM_Y || proj.pos[1] < 0){\n                this.remove(proj);\n            }\n        })\n    }\n\n    fireEnemyProjectiles(){\n        this.enemies.forEach((enemy) => {\n            if (enemy.pos[0] - this.ships[0].pos[0] < 2 && \n               enemy.pos[0] - this.ships[0].pos[0] > -2){\n                enemy.fireProjectile();\n            }           \n        });\n    }\n\n    checkCollisions() {\n        const allObjects = this.allObjects();\n        for (let i = 0; i < allObjects.length - 1; i++) {\n            for (let j = i + 1; j < allObjects.length; j++) {\n                const obj1 = allObjects[i];\n                const obj2 = allObjects[j];\n\n                if (obj1.isCollidedWith(obj2)) {\n                    obj1.collideWith(obj2); \n                }\n            }\n        }\n    }\n\n    moveObjects(delta) {\n        this.allObjects().forEach((object) => {\n            object.move(delta);\n        });\n        \n    }\n    \n    add(object) {\n        if (object instanceof Enemy) {\n            this.enemies.push(object);\n        } else if (object instanceof Projectile) {\n            this.projectiles.push(object);\n        } else if (object instanceof Ship) {\n            this.ships.push(object);\n        } else {\n            throw new Error(\"unknown type of object\");\n        }\n    }\n\n    addEnemies() {\n        let count = 0;\n        for (let i = 0; i < Game.NUM_ENEMIES; i++) {\n            count += 1\n            this.add(new Enemy({ game: this, pos: this.generateEnemyPosition(count) }));\n        }\n    }\n\n    addShip() {\n        const ship = new Ship({\n            pos: [300, 600],\n            game: this\n        });\n\n        this.add(ship);\n\n        return ship;\n    }\n\n    generateEnemyPosition(count) {\n        // for now, manually entering the positions, when refactoring the code\n        // want to figure out a way to make this more dynamic.\n        if (count === 1){\n            return [60, 50];\n        }\n        else if (count === 2){\n            return [200, 110];\n        } else {\n            return [100, 160];\n        }\n    }\n\n    wrap(pos, vel) {\n        let x_pos = pos[0];\n        let x_vel = vel[0];\n        if (x_pos >= 650 || x_pos <= 30) {\n            x_vel = x_vel * -1;\n        } \n        return [x_vel, vel[1]];\n    }\n\n    // Something to update when you can, delegate removing responsibility \n    // to the objects themselves, as you add more objects, and simplify this code\n    remove(object){\n        switch (true) {\n            case object instanceof Projectile:\n                this.projectiles.splice(this.projectiles.indexOf(object), 1);\n                break;\n            case object instanceof Enemy:\n                this.enemies.splice(this.enemies.indexOf(object), 1);\n                break;\n            case object instanceof Ship:\n                this.ships.splice(this.ships.indexOf(object), 1);\n                break;\n            default:\n                throw new Error(\"unknown type of object\");\n        }\n        if (object instanceof Ship || this.enemies.length === 0){\n            this.gameOver();\n        };\n    }\n       \n\n    gameOver(){\n        if (!this.over){\n            this.over = true;\n            const restartButton = document.createElement(\"button\");\n            restartButton.textContent = \"Restart Game\";\n            restartButton.classList = \"restart-button\";\n            restartButton.addEventListener(\"click\", () => {\n                document.body.removeChild(restartButton);\n                this.gameview.setUp(true);  \n            });\n            const message = document.createElement(\"div\");\n       \n            document.body.appendChild(restartButton);\n        }   \n    }\n}\n\nexport default Game;","import Game from \"./game\";\n\nclass GameView{\n    constructor(ctx, paused) {\n        this.game = new Game(this);\n        this.ctx = ctx;\n        this.ship = this.game.addShip();\n        this.paused = paused;  \n        this.setUp(false);\n        \n    }\n\n    static MOVES = {\n        w: [0, -10],\n        a: [-10, 0],\n        s: [0, 10],\n        d: [10, 0],\n    };\n\n    setUp(restart) {\n        const startbutton = document.createElement(\"button\");\n        startbutton.textContent = \"Start!\";\n        startbutton.classList.add(\"start-button\");\n        game.append(startbutton);\n        startbutton.addEventListener(\"click\", () => {\n            this.start();\n            game.removeChild(startbutton);\n        });\n        if (restart){\n                cancelAnimationFrame(this.animation);\n                this.game = new Game(this);\n                this.ship = this.game.addShip();\n        }\n    }\n    \n\n    bindKeyHandlers() {\n        const ship = this.ship;\n\n        Object.keys(GameView.MOVES).forEach((k) => {\n            const move = GameView.MOVES[k];\n            key(k, () => { ship.moveShip(move); });\n        });\n\n        key(\"space\", () => { ship.fireProjectile(); });\n    }\n\n    start() {\n        this.bindKeyHandlers();\n        this.lastTime = 0;\n        let pauseButton = document.getElementById('pause-button');\n        pauseButton.textContent = 'Pause';\n        pauseButton.classList = \"pause-button\";\n        pauseButton.onclick = () => {\n           this.paused = !this.paused;\n           if (pauseButton.textContent === \"Pause\"){\n                pauseButton.textContent = \"Play\";\n           } else {\n                pauseButton.textContent = \"Pause\";\n           }           \n        };\n        this.animation = requestAnimationFrame(this.animate.bind(this));\n    }\n\n    foundNoPauseButtons(){\n        let testbutton = document.getElementById(\"pause-button\");\n        return (testbutton === null);\n    }\n\n    animate(time) {\n        const timeDelta = time - this.lastTime;\n        \n        if (!this.paused) {          \n            this.game.step(timeDelta);\n            this.game.draw(this.ctx);\n        }\n\n        this.lastTime = time;\n\n        this.animation = requestAnimationFrame(this.animate.bind(this));\n    }\n\n}\n\nexport default GameView;","export function generateStars(){\n    const canvas = document.getElementById('star-canvas');\n    const ctx = canvas.getContext('2d');\n    const starCount = 100;\n    const minSize = 1;\n    const maxSize = 3;\n    const speed = 5; \n    const stars = [];\n\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    for (let i = 0; i < starCount; i++) {\n        stars.push({\n            x: Math.random() * canvas.width,\n            y: Math.random() * canvas.height,\n            size: Math.random() * (maxSize - minSize) + minSize,\n            speed: Math.random() * speed + 0.1\n        });\n    }\n\n    function drawStars() {\n        ctx.fillStyle = '#ffffff';\n        for (let i = 0; i < stars.length; i++) {\n            const star = stars[i];\n            ctx.beginPath();\n            ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);\n            ctx.fill();\n\n            star.x -= star.speed;\n            if (star.x < -star.size) {\n                star.x = canvas.width + star.size;\n            }\n        }\n    }\n\n    function animate() {\n        requestAnimationFrame(animate);\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        drawStars();\n    }\n\n    window.addEventListener('resize', function () {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n    });\n\n    animate();\n}\n\n","import Game from \"./scripts/game.js\";\nimport GameView from \"./scripts/game_view.js\";\nimport * as StarGenerator from \"./scripts/star_generator.js\"\n\nStarGenerator.generateStars();\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    animateTextBox();\n    animateGif();\n   displayControls();\n\n    const canvasEl = document.getElementById(\"game-canvas\");\n    canvasEl.width = Game.DIM_X;\n    canvasEl.height = Game.DIM_Y;\n    const ctx = canvasEl.getContext(\"2d\");\n\n    canvasEl.style.position = 'absolute';\n    canvasEl.style.top = '0';\n    canvasEl.style.left = '0';\n    canvasEl.style.zIndex = '1';\n  \n    let gameview = new GameView(ctx);\n});\n\nfunction animateGif() {\n    \n    const gifCanvas = document.getElementById(\"vehicle-gif\");\n    const ctx = gifCanvas.getContext(\"2d\");\n    gifCanvas.height = 250;\n    gifCanvas.width = 400;\n    ctx.clearRect(0, 0, gifCanvas.width, gifCanvas.height);\n    const img = new Image();\n    img.src = \"assets/vehicle-2.png\"; \n\n    let frameIndex = 0;\n    const spriteWidth = 528;\n    const spriteHeight = 375;\n\n    function update() {   \n        ctx.drawImage(img, frameIndex * spriteWidth, 0, spriteWidth, spriteHeight, 0, 0, gifCanvas.width, gifCanvas.height);\n        frameIndex = (frameIndex + 1) % 3; \n        requestAnimationFrame(update);\n    }\n\n    img.onload = function () {\n        update();\n    }\n}\n\nfunction animateTextBox(){\n     const textCanvas = document.getElementById(\"text-gif\");\n     const ctx2 = textCanvas.getContext(\"2d\");\n     textCanvas.height = 300;\n     textCanvas.width = 420;\n      const textbox = new Image();\n    textbox.src = \"assets/textbox.png\";\n    let textFrame = 0;\n    const textWidth = 594;\n    const textHeight = 168;\n    function update() {\n        ctx2.drawImage(textbox, textFrame * textWidth, 0, textWidth, textHeight, 0, 0, textCanvas.width, textCanvas.height);\n        textFrame = (textFrame + 1) % 108;\n        requestAnimationFrame(update);\n    }\n    textbox.onload = function () {\n        update();\n    }\n}\n\nfunction displayControls() {\n    const canvas = document.getElementById(\"controls\");\n    const context = canvas.getContext(\"2d\");\n    canvas.height = 300;\n    canvas.width = 300;\n\n    const controls = new Image();\n    controls.addEventListener('load', function () {\n        context.drawImage(controls, 0, 0, 970, 647, 0, 0, canvas.width, canvas.height);\n    });\n    controls.src = \"assets/controls.png\";\n}\n\n"],"names":["projectileVec","scaler","scale","vec","m","constructor","options","arguments","length","undefined","this","pos","vel","radius","game","health","isCollidedWith","otherObject","pos1","pos2","Math","sqrt","pow","collideWith","move","timeDelta","velocityScale","offsetX","offsetY","newPos","wrap","Projectile","GameObject","RADIUS","super","userProjectileSheet","Image","src","enemyProjectileSheet","currentFrame","eachWidth","eachHeight","numFrames","draw","ctx","row","floor","col","drawImage","_defineProperty","Enemy","SPEED","img","image","fireProjectile","projVel","Util","enemyProj","color","add","remove","points","Ship","moveShip","shipDir","proj","Game","gameview","enemies","projectiles","ships","addEnemies","clearRect","DIM_X","DIM_Y","allObjects","forEach","object","font","fillText","textAlign","fillStyle","concat","step","delta","moveObjects","fireEnemyProjectiles","checkCollisions","deleteProjectilesOutOfBounds","enemy","i","j","obj1","obj2","push","Error","count","NUM_ENEMIES","generateEnemyPosition","addShip","ship","x_pos","x_vel","splice","indexOf","gameOver","over","restartButton","document","createElement","textContent","classList","addEventListener","body","removeChild","setUp","appendChild","GameView","paused","restart","startbutton","append","start","cancelAnimationFrame","animation","bindKeyHandlers","Object","keys","MOVES","k","key","lastTime","pauseButton","getElementById","onclick","requestAnimationFrame","animate","bind","foundNoPauseButtons","time","w","a","s","d","canvas","getContext","stars","width","window","innerWidth","height","innerHeight","x","random","y","size","speed","star","beginPath","arc","PI","fill","drawStars","StarGenerator","textCanvas","ctx2","textbox","textFrame","update","onload","animateTextBox","gifCanvas","frameIndex","animateGif","context","controls","displayControls","canvasEl","style","position","top","left","zIndex"],"sourceRoot":""}